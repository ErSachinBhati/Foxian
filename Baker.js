 
function startBakerQuiz() {
    const questions = [
       
  
  {
    "question": "Q.When was Winifred Mitchell Baker born?",
    "options": ["1955", "1956", "1957", "1958"],
    "correctAnswer": "1957",
    "explanation": "Winifred Mitchell Baker was born in 1957."
  },
  {
    "question": "Q.What position does Winifred Mitchell Baker currently hold?",
    "options": ["CEO of Mozilla Corporation", "Chairwoman of the Mozilla Foundation", "General Counsel at Netscape", "Partner at Fenwick & West LLP"],
    "correctAnswer": "Chairwoman of the Mozilla Foundation",
    "explanation": "Winifred Mitchell Baker serves as the Chairwoman of the Mozilla Foundation."
  },
  {
    "question": "Q.When did Baker step down from her role as CEO of the Mozilla Corporation?",
    "options": ["January 2024", "February 2024", "March 2024", "April 2024"],
    "correctAnswer": "February 2024",
    "explanation": "Winifred Mitchell Baker stepped down from her role as CEO of the Mozilla Corporation in February 2024."
  },
  {
    "question": "Q.What degree did Baker earn from the University of California, Berkeley?",
    "options": ["BA in Chinese studies", "BA in Political Science", "BA in Computer Science", "BA in Business Administration"],
    "correctAnswer": "BA in Chinese studies",
    "explanation": "Winifred Mitchell Baker holds a BA in Chinese studies from the University of California, Berkeley."
  },
  {
    "question": "Q.In what year was Baker listed among Time magazine's 100 most influential people in the world?",
    "options": ["2004", "2005", "2006", "2007"],
    "correctAnswer": "2005",
    "explanation": "Winifred Mitchell Baker was listed among Time magazine's 100 most influential people in the world in 2005."
  },
  {
    "question": "Q.Which company did Baker join in November 1994?",
    "options": ["Sun Microsystems", "Fenwick & West LLP", "Netscape Communications Corporation", "Mozilla Corporation"],
    "correctAnswer": "Netscape Communications Corporation",
    "explanation": "In November 1994, Winifred Mitchell Baker joined Netscape Communications Corporation."
  },
  {
    "question": "Q.Who was the CEO of Netscape when Baker joined in 1994?",
    "options": ["Marc Andreessen", "Jim Barksdale", "Brendan Eich", "Eric Schmidt"],
    "correctAnswer": "Jim Barksdale",
    "explanation": "When Winifred Mitchell Baker joined Netscape in 1994, the CEO was Jim Barksdale."
  },
  {
    "question": "Q.What legal licenses did Baker contribute to creating?",
    "options": ["MIT License and GPL", "BSD License and LGPL", "Netscape Public License and Mozilla Public License", "Apache License and GPL"],
    "correctAnswer": "Netscape Public License and Mozilla Public License",
    "explanation": "Winifred Mitchell Baker contributed to the creation of both the Netscape Public License and the Mozilla Public License."
  },
  {
    "question": "Q.What was Baker's role in the Netscape Legal Department?",
    "options": ["Head of the Legal Department", "General Counsel", "Founder and overseer of the Technology Group", "Chief Intellectual Property Officer"],
    "correctAnswer": "Founder and overseer of the Technology Group",
    "explanation": "Baker founded and oversaw the Technology Group within the Netscape Legal Department."
  },
  {
    "question": "Q.Which law school did Baker attend?",
    "options": ["Harvard Law School", "Yale Law School", "Stanford Law School", "Boalt Hall School of Law, University of California, Berkeley"],
    "correctAnswer": "Boalt Hall School of Law, University of California, Berkeley",
    "explanation": "Winifred Mitchell Baker obtained her JD from the Boalt Hall School of Law, University of California, Berkeley."
  },
  {
    "question": "Q.What position did Winifred Mitchell Baker assume by February 1999?",
    "options": ["CEO of Mozilla Corporation", "General Manager at mozilla.org", "President of Mozilla Foundation", "Board member of Open Source Applications Foundation"],
    "correctAnswer": "General Manager at mozilla.org",
    "explanation": "By February 1999, Baker assumed the position of general manager at mozilla.org."
  },
  {
    "question": "Q.In what year did Baker face termination during a series of layoffs at America Online?",
    "options": ["1999", "2000", "2001", "2002"],
    "correctAnswer": "2001",
    "explanation": "In 2001, Baker faced termination during a series of layoffs at America Online."
  },
  {
    "question": "Q.What role did Baker take on voluntarily after her termination from America Online?",
    "options": ["General Manager of mozilla.org", "President of Mozilla Foundation", "CEO of Mozilla Corporation", "Board member of Open Source Applications Foundation"],
    "correctAnswer": "General Manager of mozilla.org",
    "explanation": "Baker continued her role as general manager of mozilla.org on a voluntary basis after her termination."
  },
  {
    "question": "Q.When did Baker join the Open Source Applications Foundation?",
    "options": ["2001", "2002", "2003", "2004"],
    "correctAnswer": "2002",
    "explanation": "In November 2002, Baker joined the Open Source Applications Foundation."
  },
  {
    "question": "Q.What significant role did Baker play in the creation of the Mozilla Foundation?",
    "options": ["General Manager", "President", "CEO", "Chairperson"],
    "correctAnswer": "President",
    "explanation": "Baker assumed the role of President of the Mozilla Foundation, which was established on July 15, 2003."
  },
  {
    "question": "Q.Why was the Mozilla Foundation established?",
    "options": ["To replace mozilla.org", "In response to America Online's discontinuation of the Netscape browser division", "To merge with the Open Source Applications Foundation", "To create a taxable subsidiary"],
    "correctAnswer": "In response to America Online's discontinuation of the Netscape browser division",
    "explanation": "The Mozilla Foundation was established in response to America Online's discontinuation of the Netscape browser division."
  },
  {
    "question": "Q.When was the Mozilla Corporation launched?",
    "options": ["July 15, 2003", "August 3, 2005", "January 8, 2008", "February 1999"],
    "correctAnswer": "August 3, 2005",
    "explanation": "The Mozilla Corporation was launched on August 3, 2005, as a taxable subsidiary of the Mozilla Foundation."
  },
  {
    "question": "Q.What position did Baker assume at the Mozilla Corporation upon its launch?",
    "options": ["General Manager", "President", "CEO", "Chairperson"],
    "correctAnswer": "CEO",
    "explanation": "Upon the launch of the Mozilla Corporation, Baker was appointed as its CEO."
  },
  {
    "question": "Q.On January 8, 2008, who succeeded Baker as the CEO of Mozilla Corporation?",
    "options": ["John Lilly", "Jim Barksdale", "Mitchell Baker", "Brendan Eich"],
    "correctAnswer": "John Lilly",
    "explanation": "On January 8, 2008, John Lilly succeeded Baker as the CEO of Mozilla Corporation."
  },
  {
    "question": "Q.What role did Baker retain after stepping down as CEO of Mozilla Corporation in 2008?",
    "options": ["President of Mozilla Foundation", "General Manager at mozilla.org", "Chairperson of the Mozilla Foundation", "Board member of Open Source Applications Foundation"],
    "correctAnswer": "Chairperson of the Mozilla Foundation",
    "explanation": "After stepping down as CEO of Mozilla Corporation in 2008, Baker continued serving as Chairperson of the Mozilla Foundation."
  },
  {
    "question": "Q.When did Winifred Mitchell Baker resume her role as CEO of the Mozilla Corporation?",
    "options": ["April 2020", "February 2024", "August 2020", "January 2021"],
    "correctAnswer": "April 2020",
    "explanation": "Baker resumed her role as CEO of the Mozilla Corporation in April 2020."
  },
  {
    "question": "Q.Why did Winifred Mitchell Baker resign as CEO of Mozilla Corporation in February 2024?",
    "options": ["To retire", "To focus on AI and internet safety initiatives", "Due to health reasons", "To join another company"],
    "correctAnswer": "To focus on AI and internet safety initiatives",
    "explanation": "Baker resigned as CEO to concentrate on AI and internet safety initiatives."
  },
  {
    "question": "Q.What was Winifred Mitchell Baker's compensation from Mozilla in 2018?",
    "options": ["$1,000,000", "$2,458,350", "$5,000,000", "$3,500,000"],
    "correctAnswer": "$2,458,350",
    "explanation": "In 2018, Baker's compensation from Mozilla amounted to $2,458,350."
  },
  {
    "question": "Q.By how much did Winifred Mitchell Baker's compensation increase from 2008 to 2018?",
    "options": ["100%", "200%", "300%", "400%"],
    "correctAnswer": "400%",
    "explanation": "Baker's compensation increased by 400% from 2008 to 2018."
  },
  {
    "question": "Q.What reason did Baker give for her significant pay increase?",
    "options": ["Her responsibilities increased", "Her salary was below market standards", "Mozilla's revenue increased", "To retain her position"],
    "correctAnswer": "Her salary was below market standards",
    "explanation": "Baker noted that her pay was approximately 80% below market standards, deeming such a gap unfair."
  },
  {
    "question": "Q.What was Winifred Mitchell Baker's salary upon returning to the CEO position in 2020?",
    "options": ["$1 million", "$3 million", "$5 million", "$7 million"],
    "correctAnswer": "$3 million",
    "explanation": "Upon her return to the CEO position in 2020, Baker's salary surpassed $3 million."
  },
  {
    "question": "Q.How much did Baker's compensation exceed in 2021?",
    "options": ["$3 million", "$5 million", "$6 million", "$7 million"],
    "correctAnswer": "$5 million",
    "explanation": "In 2021, Baker's compensation escalated to over $5 million."
  },
  {
    "question": "Q.What was Baker's compensation in 2022?",
    "options": ["$3 million", "$5 million", "$7 million", "$6 million"],
    "correctAnswer": "$7 million",
    "explanation": "By 2022, Baker's compensation nearly reached $7 million."
  },
  {
    "question": "Q.How many employees were affected by Mozilla Corporation's layoffs in August 2020?",
    "options": ["100", "150", "200", "250"],
    "correctAnswer": "250",
    "explanation": "The layoffs in August 2020 affected around 250 employees."
  },
  {
    "question": "Q.What reason did Baker attribute to the layoffs in August 2020?",
    "options": ["Revenue decline", "Market share decline", "COVID-19 pandemic", "New management"],
    "correctAnswer": "COVID-19 pandemic",
    "explanation": "Baker attributed the layoffs to the impact of the COVID-19 pandemic."
  },


];

const shuffledQuestions = questions.sort(() => Math.random() - 0.5).slice(0, 10);

const quizPage = document.createElement("div");
quizPage.classList.add("quiz-page");

for (let i = 0; i < shuffledQuestions.length; i++) {
    const questionContainer = document.createElement("div");
    questionContainer.classList.add("question-container");

    const questionElement = document.createElement("h3");
    questionElement.textContent = shuffledQuestions[i].question;

    const optionsContainer = document.createElement("div");
    optionsContainer.classList.add("options-container");

    for (let j = 0; j < shuffledQuestions[i].options.length; j++) {
        const optionElement = document.createElement("div");
        optionElement.classList.add("option");
        optionElement.textContent = shuffledQuestions[i].options[j];

        optionElement.addEventListener("click", function () {
            toggleSelected(optionElement);
            storeUserAnswer(i, optionElement.textContent);
        });

        optionsContainer.appendChild(optionElement);
    }

    questionContainer.appendChild(questionElement);
    questionContainer.appendChild(optionsContainer);
    quizPage.appendChild(questionContainer);
}

document.body.innerHTML = "";
document.body.appendChild(quizPage);

const buttonContainer = document.createElement("div");
buttonContainer.classList.add("button-container");

const submitButton = document.createElement("button");
submitButton.textContent = "Submit";
submitButton.style.fontSize = "30px";
submitButton.style.backgroundColor = "#900C3F";
submitButton.style.color = "white";
submitButton.style.padding = "10px 20px";
submitButton.style.border = "none";
submitButton.style.borderRadius = "6px";

submitButton.addEventListener("click", function () {
    submitQuiz(shuffledQuestions);
});

buttonContainer.appendChild(submitButton);

document.body.appendChild(buttonContainer);

const style = document.createElement("style");
style.textContent = `
    body {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .quiz-page {
        margin-bottom: 30px; 
    }
    .button-container {
        margin-top: 10px; 
    }
    .option.selected {
        background-color: #4CAF50;
        color: white;
    }
`;
document.head.appendChild(style);

function storeUserAnswer(questionIndex, userAnswer) {
    questions[questionIndex].userAnswer = userAnswer;
}

function toggleSelected(optionElement) {
    const optionsContainer = optionElement.parentElement;
    const options = optionsContainer.getElementsByClassName("option");

    for (let option of options) {
        option.classList.remove("selected");
    }

    optionElement.classList.add("selected");
}

async function submitQuiz(questions) {
    let allQuestionsAnswered = true;
    let correctAnswersCount = 0;

    for (let i = 0; i < questions.length; i++) {
        const userAnswer = questions[i].userAnswer;
        const correctAnswer = questions[i].correctAnswer;
        const isCorrect = userAnswer === correctAnswer;

        if (isCorrect) {
            correctAnswersCount++;
        }

        if (!userAnswer) {
            allQuestionsAnswered = false;
        }
    }

    if (!allQuestionsAnswered) {
        alert("Please answer all questions before submitting.");
        return;
    }

    const totalQuestions = questions.length;
    const scorePercentage = (correctAnswersCount / totalQuestions) * 100;
    const scoreText = `${correctAnswersCount}/${totalQuestions} (${scorePercentage.toFixed(2)}%)`;

    await okh(correctAnswersCount, totalQuestions, scorePercentage);

    let result = `
        <div class="score" style="font-size: 24px; color: #622569; margin-top: 20px;">
            <strong>Total Score: <span style="color: #622569;">${scoreText}</span></strong>
        </div>
        <br>
    `;

    for (let i = 0; i < questions.length; i++) {
        const userAnswer = questions[i].userAnswer;
        const correctAnswer = questions[i].correctAnswer;
        const explanationLines = questions[i].explanation.split('\n');
        const explanationHTML = explanationLines.map(line => `${line}<br>`).join('');

        const isCorrect = userAnswer === correctAnswer;

        result += `<br><strong>${questions[i].question}</strong><br>`;
        
        if (isCorrect) {
            result += `<div>Your Answer: <span style="color: #006400;">${userAnswer}</span></div>`;
            result += `<div>Correct Answer: <span style="color: #006400;">${correctAnswer}</span></div>`;
        } else {
            result += `<div>Your Answer: <span style="color: #FF0000;">${userAnswer}</span></div>`;
            result += `<div>Correct Answer: <span style="color: #006400;">${correctAnswer}</span></div>`;
        }
        
        result += `<div>Explanation: <span style="color: #0000FF;">${explanationHTML || "No explanation available"}</span></div>`;
    }

    const resultPage = document.createElement("div");
    resultPage.classList.add("result-page");

    const resultContainer = document.createElement("div");
    resultContainer.id = "result-container";
    resultContainer.innerHTML = `
        <h2 style="font-size: 28px; color: #008000;">Quiz Results</h2>
        ${result}
    `;

    resultContainer.style.textAlign = "center";
    resultContainer.style.marginTop = "30px";
    resultContainer.style.padding = "30px";
    resultContainer.style.backgroundColor = "#f8f8f8";
    resultContainer.style.borderRadius = "10px";
    resultContainer.style.boxShadow = "0 0 20px rgba(0, 0, 0, 0.2)";

    resultPage.appendChild(resultContainer);

    const homeButton = document.createElement("button");
    homeButton.textContent = "Home";
    homeButton.style.fontSize = "20px";
    homeButton.style.backgroundColor = "#FFD700";  
    homeButton.style.color = "black";  
    homeButton.style.padding = "10px 20px";
    homeButton.style.border = "none";
    homeButton.style.borderRadius = "6px";
    homeButton.style.display = "block";
    homeButton.style.marginLeft = "auto";
    homeButton.style.marginRight = "auto";
    homeButton.style.marginBottom = "20px";

    homeButton.addEventListener("click", function () {
        window.location.href = "https://ersachinbhati.github.io/Foxian/";
    });

    resultPage.appendChild(homeButton);

    document.body.innerHTML = "";
    document.body.appendChild(resultPage);
}

async function okh(correctAnswersCount, totalQuestions) {
    try {
        const totalScore = correctAnswersCount;

        const documentToInsert = {
            correctAnswers: correctAnswersCount.toString(),
            totalQuestions: totalQuestions.toString(),
            totalScore: totalScore  
        };

        const response = await fetch('/api/quizResults', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(documentToInsert)
        });

        if (response.ok) {
            console.log('Quiz results saved successfully');
        } else {
            console.error('Failed to save quiz results:', response.statusText);
        }
    } catch (error) {
        console.error('Error saving quiz results:', error);
    }
}
}
